@model ProductDetailVM
@{
    int count = 0;
    int TotalRaiting = 0;
    int Avarange = 0;
}
<style>
    .countcard .add-to-basket {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #000000;
        color: white;
        border: none;
        cursor: pointer;
    }

    .countcard .add-to-basket:hover{
            background-color: #fff;
            color: #000;
    }

    .btn-primary{
background-color:black;
color:white;
    }

    .btn-primary:hover{
        background-color: white;
        color: black;
    }
</style>
<section id="prodetails" class="section-p1">
    <div class="single-pro-image">
        <img src="~/assets/img/products/@Model.product.ProductImageUrl" width="100%" id="MainImg" alt="">
        <div class="small-img-group">
            <div class="small-img-col">
                <img src="~/assets/img/products/n2.jpg" width="100%" class="small-img" alt="">
            </div>
            <div class="small-img-col">
                <img src="~/assets/img/products/n3.jpg" width="100%" class="small-img" alt="">
            </div>
            <div class="small-img-col">
                <img src="~/assets/img/products/n4.jpg" width="100%" class="small-img" alt="">
            </div>
            <div class="small-img-col">
                <img src="~/assets/img/products/n5.jpg" width="100%" class="small-img" alt="">
            </div>
        </div>
    </div>
    <div class="single-pro-details">
        <h6>Home / @Model.product.Catagories.CatagoryName</h6>
        <h4>@Model.product.ProductName</h4>
        <h2>$@Model.product.ProductPrice</h2>
        
        <div class="countcard">
            <button id="decreaseButton">-</button>
            <span id="countDisplay">0</span>
            <button id="increaseButton">+</button>
            <a class="add-to-basket" asp-controller="Product" asp-action="AddCart" asp-route-id="@Model.product.Id">Add To Card</a>
        </div>

        <div class="accordion">
            <div class="accordion-item">
                <div class="accordion-header">
                    Product Details
                </div>
                <div class="accordion-content">

                    @Model.product.ProductDetail

                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header">
                    Additional Information
                </div>
                <div class="accordion-content">

                    @Model.product.ProductInformation

                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header">
                    Customer Reviews
                </div>
                <div class="accordion-content">

                    @Model.product.ProductReviews

                </div>
            </div>
        </div>

        <h4>Product Details</h4>
        <p>
            @Model.product.ProductDetail
        </p>
       
                
          

    </div>
</section>

<!-- Praduct part2 end -->
<section id="newsletter" class="section-p1 section-m1">
    <div class="newstext">
        <h4>Sign Up For NewsLetters</h4>
        <p>Get E-mail updates about our latest shop and and <span> special offers.</span></p>
    </div>
    <div class="form">
        <input type="text" placeholder="Your email address">
        <button class="normal">Sign Up</button>
    </div>
</section>
<script>

    let productCards = document.querySelectorAll(".product-card")
    function setActiveColor(event) {
        let parent = event.currenTarget.closest(".product-card")
        let colorContents = parent.querySelectorAll(".product-card__color__content");


        for (let i = 0; i < colorContents.length; i++) {
            colorContents[i].classlist.remove("active-color")
        }
        event.currentTarget.classList.add("active-color")
    }

    for (let i = 0; i < productCards.length; i++) {
        var colorContents = productCards[i].querySelectorAll(".product-card__color__content");

        for (let j = 0; j < colorContents.length; j++) {
            colorContents[j].addEventListener("click", setActiveColor)
        }
    }


    const accordionItems = document.querySelectorAll('.accordion-item');

    accordionItems.forEach(item => {
        const header = item.querySelector('.accordion-header');

        header.addEventListener('click', () => {
            item.classList.toggle('active');

            const content = item.querySelector('.accordion-content');
            if (item.classList.contains('active')) {
                content.style.maxHeight = content.scrollHeight + 'px';
            } else {
                content.style.maxHeight = '0';
            }
        });
    });

    window.addEventListener("load", function () {
        var loadingScreen = document.getElementById("loading-screen");
        loadingScreen.style.display = "none";
    });

    var MainImg = document.getElementById("MainImg")
    var smallimg = document.getElementsByClassName("small-img")

    smallimg[0].onclick = function () {
        MainImg.src = smallimg[0].src;
    }
    smallimg[1].onclick = function () {
        MainImg.src = smallimg[1].src;
    }
    smallimg[2].onclick = function () {
        MainImg.src = smallimg[2].src;
    }
    smallimg[3].onclick = function () {
        MainImg.src = smallimg[3].src;
    }
</script>

<script src="~/assets/script.js"></script>