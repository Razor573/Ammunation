@model HomeVM
@{
    int count = 0;
}

<style>
    .popubbdy {
        font-family: Arial, sans-serif;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: rgba(0, 0, 0, 0.5);
    }

    .popup {
        position: relative;
        padding: 20px;
        background-color: white;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        text-align: center;
    }

    .logo {
        width: 70px;
        height: 70px;
        margin-bottom: 20px;
    }

    .close {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 24px;
        cursor: pointer;
    }

    .discounts,
    .credit-card {
        margin-top: 10px;
    }

    .discounts {
        font-size: 1.2em;
    }

    .credit-card {
        font-size: 0.8em;
    }

</style>
</style>

<div class="popubbdy">
    <div id="popup">
        <div id="popup-content">
            <div id="overlay" class="overlay">
                <div id="popup" class="popup">
                    <span class="close" id="closePopup">&times;</span>
                    <img src="~/assets/img/logo-no-background.png" alt="Logo" class="logo">
                    <h3 class="discounts">Our new summer discounts starting from 35% – don't miss out on the latest</h3>
                    <p class="credit-card">Shopping data is made on our website with a credit card.</p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Hero start -->
    <section id="hero">
        <h4>Trade-in-offer</h4>
        <h2>Super value deals</h2>
        <h1>On all products</h1>
        <p>Save more with & up to 40% off!</p>
        <button>Shop Now</button>
    </section>
    <!-- Hero End -->
<!-- Feature start -->
<section id="feature" class="section-p1">
    @foreach (Icon item in Model.Icons)
    {
        <div class="fe-box">
            <img src="~/assets/img/features/@item.IconImageUrl" alt="">
            <h6>@item.Title </h6>
        </div>
    }
</section>
<!-- Feature end -->
<!-- Product Start -->
<section id="product1" class="section-p1">
    <h2>Featured Products</h2>
    <p>Summer Collection New Morden Design</p>
    <div class="pro-container">
        @foreach (Product item in Model.Products)
        {
            count++;
            if(count > 8)
            {
                break;
            }
            else
            {
                <div class="pro " >
                    <a asp-controller="Product" asp-action="ViewProduct" asp-route-id="@item.Id"><img id="product-image" src="~/assets/img/products/@item.ProductImageUrl" alt=""></a>
                    <div class="des">
                        <span>@item.Brands.BrandName</span>
                        <h5>@item.ProductName</h5>
                        <div class="star">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <h4>$@item.ProductPrice</h4>
                    </div>
                    <a class="add-to-basket" asp-controller="Product" asp-action="AddCart" asp-route-id="@item.Id" id="cart"><i class="fa-solid fa-cart-shopping  "></i></a>
                </div>
            }
        }
    </div>
</section>
<!-- Product end -->
<!-- Banner Start -->
<section id="banner" class="section-m1">
    <h4>Repair Services</h4>
    <h2>Up to <span>40% off</span> - All FireArms & Weapons</h2>
    <button class="normal">Explore More</button>
</section>
<!-- Banner end -->
<!-- Praduct part2 start -->
<section id="product1" class="section-p1">
    <h2>New Arrivals</h2>
    <p>Summer Collection New Morden Design</p>
    <div class="pro-container">
        @foreach (Product item in Model.Products)
        {
            count++;

            if (count >= 18 && count<= 25)
            {
                <div class="pro" >
                    <a asp-controller="Product" asp-action="ViewProduct" asp-route-id="@item.Id"><img id="product-image" src="~/assets/img/products/@item.ProductImageUrl" alt=""></a>
                    <div class="des">
                        <span>@item.Brands.BrandName</span>
                        <h5>@item.ProductName</h5>
                        <div class="star">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <h4>$@item.ProductPrice</h4>
                    </div>
                    <a class="add-to-basket" asp-controller="Product" asp-action="AddCart" asp-route-id="@item.Id" id="cart"><i class="fa-solid fa-cart-shopping"></i></a>
                </div>
            }

        }
    </div>
</section>
<!-- Praduct part2 end -->



<section id="newsletter" class="section-p1 section-m1">
    <div class="newstext">
        <h4>Sign Up For NewsLetters</h4>
        <p>Get latest updates about our shop and special offers.</p>
    </div>
    <div class="form">
        <input type="text" placeholder="Your email address">
        <button class="normal">Sign Up</button>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const overlay = document.getElementById('overlay');
        const popup = document.getElementById('popup');
        const closePopupButton = document.getElementById('closePopup');

        overlay.style.display = 'flex';

        closePopupButton.addEventListener('click', () => {
            overlay.style.display = 'none';
        });

        overlay.addEventListener('click', (event) => {
            if (event.target === overlay) {
                overlay.style.display = 'none';
            }
        });
    });
</script>